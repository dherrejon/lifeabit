<div ng-controller="ActividadesController as actividades" >
   
    <div class="container-fluid">
       
       <div class="row" style="height: 1px;" ng-show="anchoPantalla > 767 || detalle.ActividadId.length == 0">

            <div class="col-sm-3 col-xs-12">
               <div class="pull-right" style="margin-right: 19%">
                <div style="position: fixed; display: block; z-index: 10; top:150px;  padding: 0px; color: black; ">
                   <input id="fechaFiltro" type="button" class="form-control entrada" style="height: 1px; color: transparent;  background: transparent; width:1px; border-color: transparent; margin-top: -15px"  onblur="angular.element(this).scope().CambiarFechaFiltro(this)">
                </div>
                </div>
            </div> 
            
        </div>
        
        <!-- Barra de Busqueda -->
        <div class="barraBuscarInformacion" ng-show="anchoPantalla > 767 || detalle.ActividadId.length == 0">
            

            <div class="row ">
               <div class="col-xs-12">

                   <div class="input-group input-group-lg" style="color: black">

                         <!-- Agregar -->
                         <span class="input-group-btn ">
                               <button type="button" class="btn botonBuscarFiltro botonAgregarBusqueda" ng-click="AbrirActividad('Agregar', null)">
                                    <span class="fa fa-plus"></span> <span class="hidden-xs"> Agregar</span>
                               </button>
                          </span>

                         <!-- Span Buscar -->
                          <span class="input-group-btn">
                               <button type="button" class="btn botonBuscarFiltro dropdown-toggle widthConcepto" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    <span class="hidden-xs"><span class="fa fa-search"></span> {{campoBuscar}}</span>
                                    <span class="hidden-md hidden-sm hidden-lg" ng-show="campoBuscar=='Título'"><span class="fa fa-search"></span></span>
                                    <span class="hidden-md hidden-sm hidden-lg" ng-show="campoBuscar=='Conceptos'"><span class="fa fa-comment-o"></span></span>
                               </button>
                                <ul class="dropdown-menu dropdown-menu-left" style=" border-radius:0px">

                                 <li><a href="" ng-click="CambiarCampoBuscar('Conceptos')" class="dropdownOpcion2">
                                      Conceptos
                                  </a></li>

                                  <li><a href="" ng-click="CambiarCampoBuscar('Título')" class="dropdownOpcion2"> 
                                      Título
                                  </a></li>
                                </ul>
                                
                                <!--<span type="button" class="btn botonBuscarFiltro">
                                    <span class="fa fa-search"></span> <span class="hidden-xs">Buscar</span>
                               </span>-->
                          </span>

                          <!-- entradas -->
                          <!--<input type="text" id="fechaFiltro" class="form-control"  style="display: block; position: fixed; width:1%; border-color: transparent; z-index: -9999999;" onblur="angular.element(this).scope().CambiarFechaBuscar(this)" autocomplete="off"/>--> 
                          
                          <input type="text" ng-show="campoBuscar=='Conceptos'" placeholder="Concepto" class="inputBuscar form-control" name="buscarConceptoFiltro" ng-model="buscarConceptoBarra" id="buscarConcepto" autocomplete="off">
                          <input type="text" ng-show="campoBuscar=='Título'" placeholder="Título de la actividad" class="inputBuscar form-control" name="buscarTituloFiltro" ng-model="buscarActividad" id="buscarTitulo" autocomplete="off">
                            
                          <!--<button ng-show="campoBuscar=='Fecha'" type="text" class="form-control inputBuscar text-left" ng-click="AbrirCalendario()" >{{filtro.fechaFormato}}</button>-->

                          <div ng-show="buscarConceptoBarra.length > 0" class="dropdown-menu modalAgregarDropdown conceptosBuscar">
                             <li><a href="" ng-click="SetFiltroEtiqueta(etiqueta)" class="dropdownOpcion2 text-left" ng-repeat="etiqueta in etiqueta | filter:BuscarEtiquetaFiltro | orderBy:'Nombre'" ng-show="etiqueta.filtro">
                                  {{etiqueta.Nombre}}
                              </a></li>

                              <li><a href="" ng-click="SetFiltroTema(tema)" class="dropdownOpcion2" ng-repeat="tema in tema | filter:BuscarTemaFiltro | orderBy:'Nombre'"  ng-show="tema.filtro"> 
                                  {{tema.Tema}}
                              </a></li>

                          </div>

                          <!-- limpiar texto -->
                          <span class="input-group-btn">

                             <button class="btn botonBuscarFiltro" ng-click="LimpiarBuscarFiltro()" style="border-width: 0px; border-right: 3px solid #1859b2; border-radius: 0px !important">
                                   <span class="fa fa-times-circle" ></span>
                                </button>
                          </span>
                    </div>

               </div>
            </div>

        </div>
        
        <div class="row">

            <div class="col-sm-3 col-xs-12 barraLateralActividad" ng-show="anchoPantalla > 767 || detalle.ActividadId.length == 0">
                
                
                <!-- Separador -->
                <div class="row" style="height:56px">
                   <div class="col-xs-12" >
                   </div>
                </div>
                
                <div class="row">
                    <div class="col-xs-12" style="width: 100%">

                      <!-- Separador -->
                        <div class="row" style="height:74px">
                           <div class="col-xs-12  text-center" >
                           </div>
                        </div>
                    </div>
                </div>
            
                <!--<div class="row panelOperacionBotonLateral" style="color:black">
                   <div class="col-xs-12 ">        
                        <!-- Filtrar
                        <div class="pull-left" id="filtroPanel">

                            <button class="btn  botonFiltrarBarraLateral text-center"  data-toggle="modal" data-target="#modalFiltro">
                               <span class="fa fa-filter"></span>
                           </button>
                        </div>
                    
                      
                       <!-- Agregar
                       <a class="btn  botonOperacionBarraLateral pull-right" ng-click="AbrirActividad('Agregar', null)">
                           <span class="fa fa-plus"></span><span>Agregar</span>
                       </a>
                       
                   </div>
                </div>-->
                
                <!-- Filtro fecha -->
                <div class="row panelOperacionBotonLateral" style="padding-top:5px; padding-bottom:5px; border-top: 2px  solid #79adf4;">
                    
                    <div class="col-xs-12">
                       <input type="text"  id="" class="form-control entrada"  style="display: block; position: fixed; width:1%; border-color: transparent" onchange="angular.element(this).scope().CambiarFechaFiltro(this)"/> 
                    </div>

                    <div class="col-xs-12">
                        <div class="input-group btn-group-justified">
                           
                           <div class="btn-group">
                                <button class="btn botonAgrupador"  ng-click="filtro.pendiente = !filtro.pendiente" type="button" ng-class="{Activo: filtro.pendiente}" style="overflow: visible">
                                    <span class="fa fa-exclamation "></span>
                                </button>
                           </div>
                           
                           <div class="btn-group">
                                <button class="btn botonAgrupador"  ng-click="LimpiarFiltroFecha()" type="button" ng-class="{Activo: filtro.fecha.Seleccion==''}">Todo</button>
                           </div>
                            
                            <div class="btn-group">
                                <button class="btn botonAgrupador"  ng-click="FiltroFechaHoy()" type="button" ng-class="{Activo: filtro.fecha.Seleccion=='Hoy'}">Hoy</button>
                           </div>
                           
                            <div class="btn-group">
                                <button class="btn botonAgrupador" ng-click="AbrirCalendario()" type="button" ng-class="{Activo: filtro.fecha.Seleccion=='Calendario'}"><span class="fa fa-calendar-o"></span></button>
                           </div>

                        </div>
                    </div>
    
                    
                     <div class="col-xs-12 text-center" ng-show="filtro.fecha.Fecha.length > 0">
                        
                        <div class="input-group" style="color:black !important; overflow:visible; display:float">
                         
                          <span class="input-group-btn">
                              <button class="btn btnChangeDate" ng-click="CambiarFechaBtn(-1, filtro.fecha.Fecha)"><span class="fa fa-caret-left"></span></button>
                          </span>
                                                 
                           <a class="btn inputChangeDate " style="padding: 2px" ng-click="AbrirCalendario()">
                                <span style="white-space: normal; overflow: hidden;" >{{filtro.fecha.FechaFormato}}</span>
                            </a>
                            
                           <span class="input-group-btn">
                             <button class="btn btnChangeDate" ng-click="CambiarFechaBtn(1, filtro.fecha.Fecha)"><span class="fa fa-caret-right"></span></button>
                          </span>
                           
                           
                            
                        </div>
        
                     </div>

                </div>
                
                <!-- Fitros -->
                <div class="row verFitros" ng-show="(filtro.tema.length + filtro.frecuencia.length + filtro.etiqueta.length) > 0">

                    <div class="col-xs-12">
                        <button class="btn botonFalsoTitulo"><b>Filtro</b></button>
                        
                        <!-- Botones -->
                       <div class="pull-right btn-group">
                          
                            <!-- Limpiar filtro -->
                            <button class="btn  botonFiltrarBarraLateral text-center" style="color:black" ng-click="LimpiarFiltro()" >
                               <span class="fa fa-ban"></span>
                           </button>

                           <!-- Ver Detalles -->
                           <button class="btn  botonDetallesActividad" ng-click="CambiarVerFiltro()">
                               <b class="fa fa-angle-double-right" ng-if="!verFiltro"></b>
                               <b class="fa fa-angle-double-up" ng-if="verFiltro"></b>
                           </button>

                        </div>
                        
                    </div>
                    <!-- Etiquetas -->
                    <div class="col-xs-12" ng-show="filtro.etiqueta.length && verFiltro">
                        <b> Etiquetas: </b><br>
                        <span ng-repeat="etiqueta in filtro.etiqueta | orderBy:'Nombre'">
                            <div class="btn-group" role="group" style="margin-bottom:8px">
                                <a class="btn campoAgregado" ng-click="QuitaretiquetaFiltro(etiqueta)" style="font-size:10pt">{{etiqueta.Nombre}}</a>
                                <a class="btn campoAgregadoQuitar" style="font-size:10pt" ng-click="QuitaretiquetaFiltro(etiqueta)"><span class="fa fa-times-circle"></span></a>
                            </div>
                        </span>
                    </div>

                    <!-- Temas -->
                    <div class="col-xs-12" ng-show="filtro.tema.length > 0 && verFiltro">
                        <b> Tema: </b><br>                        
                        <span ng-repeat="tema in filtro.tema | orderBy:'Tema'" >
                            <div class="btn-group" role="group" style="margin-bottom:8px">
                                <a class="btn campoAgregado" ng-click="QuitarTemaFiltro(tema)" style="font-size:10pt">{{tema.Tema}}</a>
                                <a class="btn campoAgregadoQuitar" style="font-size:10pt" ng-click="QuitarTemaFiltro(tema)"><span class="fa fa-times-circle"></span></a>
                            </div>
                        </span>
                    </div>
                    
                </div>
                
                <!-- Actividades -->
                <div class="row">
                   
                   <div ng-repeat="actividad in actividad  | filter:FiltrarBuscarActividad | filter:FiltroActividadPendiente  | orderBy:'Nombre'" class="itemBarraLateral" ng-class="GetClaseActividad(actividad.ActividadId)">
                       <div class="input-group" >

                            <a class="btn itemBarraLateralbtn"   ng-click="VerDetalles(actividad)">

                                <span class="col-xs-12"  style="white-space: normal; overflow: hidden; display: inline-block" >
                                    <div class="estatusActividad {{actividad.Estatus}} pull-left" style="margin-top: 2px"> </div>
                                     <span style="margin-left: 5px">{{actividad.Nombre}}</span>
                                </span>

                                
                            </a>
                            
                            <div class="input-group-btn">
                               
                               <!-- "context menu" -->
                                <div class="dropdown  ">
                                    <button class=" btn itemBarraLateralbtn"  data-toggle="dropdown">
                                        <span class="fa fa-ellipsis-v"></span>
                                    </button>

                                    <ul class="dropdown-menu dropdown-menu-right dropdownRight">
                                       <li>
                                           <a class=" dropdownOpcion2" ng-click="RegistrarEvento('Agregar', actividad, null)"> <span class="fa fa-calendar-plus-o "></span> Registrar</a>
                                       </li>
                                       
                                       <li>
                                            <a class="  dropdownOpcion2" ng-click="AbrirActividad('Copiar', detalle)"> <span class="fa fa-files-o "></span> Copiar</a>
                                        </li>
                                        
                                        <li>
                                            <a class="  dropdownOpcion2" ng-click="AbrirActividad('Editar', detalle)"> <span class="fa fa-pencil"></span> Editar</a>
                                        </li>
                                        
                                        <li>
                                            <a class="  dropdownOpcion2" ng-click="BorrarActividad(actividad)"> <span class="fa fa-minus-circle "></span> Borrar</a>
                                        </li>
                                    </ul>
                                </div>
                                
                            </div>

                        </div>
                    </div>
                    
                </div>
                
            </div>
            
            <div class="col-sm-3 col-xs-12 ">
                
            </div>
            
            <!-- Detalles -->
            <div class="col-sm-9 col-xs-12 detallesActividadPanel" ng-show="detalle.ActividadId.length > 0" >
                
                
                 <div class="row hidden-xs">
                    <div class="col-xs-12">
                        <div style="height: 74px"></div>
                    </div>
                </div>
                
                <!-- Regresar -->
                <div class="row" ng-show="anchoPantalla <= 767">
                    <div class="col-xs-12" style="background: #E6E6E6;">
                        
                        <button class="btn botonTextoAzul" ng-click="CambiarVerBarra()">
                            <span class="fa fa-chevron-left"></span> <span>Actividades</span>
                        </button>        
                    </div>
                </div>
                <br>
                
                <!-- Actividad -->
                <div class="row">
                  
                   <div class="col-sm-12">
                      <!-- Nombre -->            
                       <b class="tituloActividad"> {{detalle.Nombre}} </b>
                       
                       <!-- Botones -->
                       <div class="pull-right btn-group">
                         
                          <button class="btn  botonDetallesActividad" ng-click="RegistrarEvento('Agregar', detalle, null)">
                               <b class="fa fa-calendar-plus-o" ></b>
                           </button>
                          
                            <!-- "context menu" -->
                            <button class="fa fa-ellipsis-v btn botonVacio" data-toggle="dropdown" style="font-size: 16pt"></button>

                            <ul class="dropdown-menu  contextMenu">
                                <!--<button class="col-xs-12 btn botonCM" ng-click="RegistrarEvento('Agregar', detalle, null)"> <span class="fa fa-calendar-check-o "></span> Registrar</button>-->
                                <button class="col-xs-12 btn botonCM" ng-click="AbrirActividad('Copiar', detalle)"> <span class="fa fa-files-o "></span> Copiar</button>
                                <button class="col-xs-12 btn botonCM" ng-click="AbrirActividad('Editar', detalle)"> <span class="fa fa-pencil"></span> Editar</button><br>
                                <button class="col-xs-12 btn botonCM" ng-click="BorrarActividad(detalle)"> <span class="fa fa-minus-circle "></span> Borrar</button>
                            </ul>

                           <!-- Ver Detalles -->
                           <button class="btn  botonDetallesActividad" ng-click="CambiarVerDetalle()">
                               <b class="fa fa-angle-double-right" ng-if="!verDetalle"></b>
                               <b class="fa fa-angle-double-up" ng-if="verDetalle"></b>
                           </button>

                        </div>
                       
                   </div>
                </div>
                
                <!-- Detalle Completo -->
                <div ng-if="verDetalle">
                  
                    <!-- Etiquetas -->
                    <div class="row" ng-if="verDetalle && detalle.EtiquetaVisible.length > 0">
                       <div class="col-sm-12"> 
                           <b> Etiquetas:  </b>
                           <span ng-repeat="etiqueta in detalle.EtiquetaVisible | orderBy:'Nombre'">
                               <span class="textoDetalle" ng-if="!$last">{{etiqueta.Nombre}},</span>
                               <span class="textoDetalle" ng-if="$last">{{etiqueta.Nombre}}.</span>
                           </span>             
                       </div>
                    </div>
                   
                    <!-- Temas -->
                    <div class="row" ng-if="verDetalle && detalle.Tema.length > 0">
                       <div class="col-sm-12"> 
                           <b> Temas:  </b>
                           <span ng-repeat="tema in detalle.Tema | orderBy:'Tema'">
                               <span class="textoDetalle" ng-if="!$last">{{tema.Tema}},</span>
                               <span class="textoDetalle" ng-if="$last">{{tema.Tema}}.</span>
                           </span>             
                       </div>
                    </div>

                    <!-- Frecuencia y Fecha de creación -->
                    <div class="row">
                       <div class="col-sm-6" ng-if="detalle.Frecuencia.Nombre.length > 0"> 
                           <b> Frecuencia:  </b>
                           <span class="textoDetalle"> {{detalle.Frecuencia.Nombre}} </span>             
                       </div>

                       <div class="col-sm-6" ng-if="detalle.Lugar.Nombre.length > 0"> 
                           <b>   Lugar por defecto:  </b>
                           <span class="textoDetalle"> {{detalle.Lugar.Nombre}} </span>             
                       </div>
                    </div>
                    
                    <!-- Frecuencia y Fecha de creación -->
                    <div class="row">
                       <div class="col-sm-12"> 
                           <b> Fecha de alta:  </b>
                           <span class="textoDetalle"> {{detalle.FechaCreacionFormato}} </span>             
                       </div>
                    </div>
                    
                     <!-- Frecuencia y Fecha de creación -->
                    <div class="row" ng-if="detalle.Hora.length > 0">
                       <div class="col-sm-12"> 
                           <b> Hora:  </b>
                           <span class="textoDetalle"> {{detalle.Hora}} </span>             
                       </div>
                    </div>
                
                
                    <!--Notas -->
                    <br ng-if="detalle.Notas.length > 0">
                    <div class="row" ng-if="detalle.Notas.length > 0">
                       <div class="col-sm-12"> 
                          <b> Notas:  </b><br>
                           <p ng-bind-html="detalle.NotasHTML"></p>                
                       </div>
                    </div>
                </div>
                
                <!-- Divisor -->
                <div class="row">
                   <div class="col-sm-12"> 
                       <div class="divisorAzul"></div>                      
                   </div>
                </div>
                <br>
                
                <!-- Eventos Actividades -->
                <div class="row" ng-show="filtro.fecha.Fecha.length > 0">
                   <div class="col-xs-12 ">
                        <div class="text-right" >
                            <div class="checkbox">
                                <label>
                                    Ver todos
                                    <input type="checkbox" ng-model="verTodos"  value="">
                                    <span class="cr"><i class="cr-icon fa fa-check"></i></span>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
                <br>
                
                <div class="row">
                   <div class="col-xs-12">
                        
                      <div  class="eventoVista" style="position: relative" ng-repeat="evento in eventoActividad | orderBy:['-Fecha', '-HoraFormato'] " ng-show="MostrarEvento(evento.Fecha)"> <!-- | filter: {Fecha:filtroFecha.Fecha} -->
                        
                         <div class="actividad {{GetClaseEvento(evento)}}" style="margin-top: -1px">
                         
                             <button class="btn btnEvento" ng-click="AccionEvento(evento)">
                                <span ng-if="('1' == evento.Hecho)" class="fa fa-check"></span> 
                             </button>
                            
                             <div class="text-center tituloEstatusActividad {{evento.EstatusTexto}}" >{{evento.EstatusTexto}}</div>
                            
                         </div> 

                        <div class="" style="position: relative; margin-left: 90px; padding: 10px; overflow-y: scroll; max-height: 80px;">
                         
                            <!--<div style="min-width: 90px !important; min-height: 70px; float: left; background: transparent"></div>-->
                            
                            <!-- Fecha -->
                            <!--<span ng-if="(hoy == evento.Fecha)" >
                                <span class="fechaIndicador">
                                    <span  style="margin-left: 5px;"> Hoy </span>
                                </span>

                                <span style="margin-left: 5px;"></span>
                            </span>-->
                            
                            <!-- Opciones ocultas -->
                            <div class="btn-group pull-right" >
                               
                               <a class=" operacionEvento" style="color: transparent" disabled ng-if="evento.Imagen.length > 0">
                                     <span class="fa fa-picture-o"></span>
                                 </a>
                                 
                               <a class=" operacionEvento" style="color: transparent" disabled ng-if="(evento.EtiquetaVisible.length + evento.Tema.length) > 0">
                                     <span class="fa fa-comment-o"></span>
                                 </a>
                                 
                                <a class=" operacionEvento" style="color: transparent" disabled>
                                     <span class="fa fa-ellipsis-v"></span>
                                 </a>
                                 
                            </div>
                            
                            <!-- Fecha -->    
                            <b style="color: black"> <span class="fa fa-calendar"> </span> {{evento.FechaFormato}}</b>
                            <br>
                            
                            <!-- Hora -->  
                            <span ng-if="evento.Hora.length > 0">
                                 <b class="fa fa-clock-o"> </b>
                                <span class="">{{evento.Hora}}</span>
                                <br>
                             </span>  
                             
                             <!-- Lugar y cuydad -->
                             <span ng-if="evento.Lugar.LugarId.length > 0 || evento.Ciudad.CiudadId.length > 0 ">
                                 <b class="fa fa-map-marker"></b>
                                 <span ng-if="evento.Lugar.LugarId.length > 0 ">
                                     <span ng-if="evento.Ciudad.CiudadId.length > 0 ">{{evento.Lugar.Nombre}},</span>
                                     <span ng-if="evento.Ciudad.CiudadId.length == 0 ">{{evento.Lugar.Nombre}}</span>
                                 </span>
                                 
                                 <span ng-if="evento.Ciudad.CiudadId.length > 0 ">
                                     {{evento.Ciudad.Ciudad}} ({{evento.Ciudad.AbreviacionPais}}).
                                 </span>
                                 <br>
                             </span>
                             
                             <!-- cantidad -->
                             <span ng-if="evento.Cantidad.length > 0">
                                 <b class="">#</b>
                                 <span class="">{{evento.Cantidad}} {{evento.Unidad.Unidad}}</span>
                                 <br>
                             </span>
                             
                             <!-- Costo -->
                             <span ng-if="evento.Costo.length > 0">
                                 <b class="fa fa-usd"></b>
                                 <span class="">{{evento.Costo}} {{evento.Divisa.Divisa}}</span>
                                 <br>
                             </span>
                             
                         </div>
                         
                         <!-- Opciones -->
                        <div class="btn-group pull-right" style="position: absolute; right: 0; top: 0; padding: 10px">
                           
                           <a class=" operacionEvento" data-toggle="dropdown" ng-if="(evento.Imagen.length) > 0" ng-click="VerImganes(true, false, false, evento.Imagen, null, 0)">
                                 <span class="fa fa-picture-o"></span>
                             </a>
                             
                            <!-- Concepto -->
                            <span class="dropdown">
                               
                                <a class=" operacionEvento" data-toggle="dropdown" ng-if="(evento.EtiquetaVisible.length + evento.Tema.length) > 0">
                                     <span class="fa fa-comment-o"></span>
                                 </a>

                                <ul class="dropdown-menu  dropdown-menu-right dropdownRight" style="margin-top: 10px">

                                    <div  class="row " ng-show="evento.EtiquetaVisible.length > 0">
                                        <div class="col-xs-12"> 
                                            <li  class="dropdown-header tituloFitro"><b>Etiquetas</b></li>
                                        </div>
                                    </div>

                                    <li style="width: auto">
                                        <form role="infoEtoiqueta">
                                            <div  style="margin-top: 10px"></div>

                                            <div class="panel  panelFiltro" style="border-radius: 0px; padding: 2px important;">
                                                <div class="row">
                                                    <div class="col-xs-12">
                                                        <ul>
                                                            <li ng-repeat="etiqueta in evento.EtiquetaVisible | orderBy:'Nombre'" >
                                                                <span>{{etiqueta.Nombre}}</span>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>

                                            </div>
                                        </form>
                                    </li>


                                    <div  class="row " ng-show="evento.Tema.length > 0">
                                        <div class="col-xs-12"> 
                                            <li  class="dropdown-header tituloFitro"><b>Temas</b></li>
                                        </div>
                                    </div>

                                    <li style="width: auto">
                                        <form role="infoEtoiqueta">
                                            <div  style="margin-top: 10px"></div>

                                            <div class="panel  panelFiltro" style="border-radius: 0px; padding: 2px important;">
                                                <div class="row">
                                                    <div class="col-xs-12">
                                                        <ul>
                                                            <li ng-repeat="tema in evento.Tema | orderBy:'Tema'">
                                                                <span>{{tema.Tema}}</span>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>

                                            </div>
                                        </form>
                                    </li>
                                </ul>
                            </span>

                             <!-- Opciones de evento evento -->
                             <span class="dropdown" style="position: relative">
                                 <a class=" operacionEvento" data-toggle="dropdown" data-target="optEvento">
                                     <span class="fa fa-ellipsis-v"></span>
                                 </a>

                                <ul class="dropdown-menu dropdown-menu-right dropdownRight" id="optEvento" style="margin-top: 10px;">

                                      <!-- Detalles -->
                                      <li>
                                        <a class=" dropdownOpcion2" ng-click="VerDetallesEvento(evento)">
                                            <span class="fa fa-eye"></span> Detalles
                                        </a>
                                       </li>

                                        <!-- Editar eventos  -->
                                      <li>
                                        <a class="dropdownOpcion2" ng-click="RegistrarEvento('Editar', detalle, evento)">
                                            <span class="fa fa-pencil"></span> Editar
                                         </a>
                                       </li>

                                        <!-- Eliminar evento  -->
                                      <li>
                                        <a class="dropdownOpcion2" ng-click="BorrarEventoActividad(evento)">
                                             <span class="fa fa-trash"></span> Borrar
                                         </a>
                                       </li>

                                    </ul>
                                </span>
                        </div>
                          
                          
                      </div>
                   </div>
                </div>
                
                <div ng-include=" 'html/Control/BotonTop.html' "></div>
                
            </div>

        </div>
    </div>
    
    <!-- -------------------------------- Modales ----------------------------------------------------------------------- -->
    <!-- Agregar - Editar -->
    <div class="modal fade" id="modalApp" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" data-keyboard="true" data-backdrop="static">
        <br>    <br>   <br>
        <div class="modal-dialog modalPrincipal">
           
            <div class="row">
                <div class="col-xs-12">
                    <!-- Alertas -->
                    <div class="alertaMensaje" id="alertaExitosoActividad">
                        <div class="alert alertaExtito">
                            <!--<button type="button" class="close" data-dismiss="alert">x</button>-->
                            <span class="fa fa-check-circle-o fa-2x textIconoExito" style="font-size:16pt"></span>
                            <strong style="display: inline-block;">{{mensaje}}</strong>
                        </div>
                    </div>
                </div>
            </div>
            
            <br>
            <div class="row">
                <div class="col-xs-8 col-sm-10">
                    <!--<button class="btn close cerrarModal" ng-click="CerrarCancion()"><span aria-hidden="true">&times;</span></button>-->
                    <span ng-if="operacion == 'Agregar'" class="tituloModal">Agregar Actividad</span>
                    <span ng-if="operacion == 'Editar'" class="tituloModal">Editar Actividad</span>
                    <span ng-if="operacion == 'Copiar'" class="tituloModal">Copiar Actividad</span>
                </div>
                
                <div class="col-xs-4 col-sm-2">
                    <div class="btn-group-vertical pull-right" role="group" >
                        <a class="btn botonFinModal"  ng-click="CerrarActividad()"><span class="fa fa-times"></span></a>
                        <a focus class="btn botonFinModal" id="terminarActividad" ng-click="TerminarActividad(actividadForma.actividad.$invalid)"><span class="fa fa-check"></span></a>
                    </div>
                </div>
                
                
            </div>
            <br>
            
            <form name="actividadForma">
                
                <!-- Nombre  -->
                <div class="row">
                    <div class="col-sm-12">
                        
                        <div class="input-group">
                            <div class="entrada2">
                                <input type="text" required class="entrada form-control" name="actividad" ng-model="nuevaActividad.Nombre" ng-maxlength="250" ng-blur="CrearEtiquetaSugerida()"/>
                                <label>Actividad</label>
                            </div>
                            <span class="input-group-btn">
                                <a class="btn close cerrarModal"  ng-click="LimpiarBuscar(2)" type="button"><span class="fa fa-times-circle"></span></a>
                            </span>
                        </div>
                        
                       
                   </div>             
                </div>
                <br>
                
                <!-- Notas -->
                <div class="row">
                    <div class="col-sm-12">
                         <div class="">
                            <label class="etiquetaNormal">Notas</label>
                            <textarea required type="text"  class="form-control contenidoArea" style="font-size:12pt" name="contenido" ng-model="nuevaActividad.Notas" maxlength="20000"></textarea>
                        </div>
                    </div>
                </div>
                 <br><br>
                 
                <!-- Frecuencia y lugar -->
                <div class="row">
                  
                   <!-- Frecuencia -->
                   <div class="col-sm-6 etiquetaDropdownList" id="frecuenciaPanel">
                        <label>Frecuencia</label>
                        <a class="btn btn-block dropdownListModal" ng-click="MostrarFrecuencia()">{{nuevaActividad.Frecuencia.Nombre}} <span class="caret"></span></a>
                        
                        <div ng-show="mostrarFrecuencia" class="dropdown-menu modalAgregarDropdown">
                           <div class="col-xs-12" style="margin-top: 10px"></div>
                           
                            <div class="col-xs-10">
                                <div class="input-group">
                                    <input type="text"  placeholder="Buscar Frecuencia" class="entrada form-control" name="buscarFrecuenciaOperacion" ng-model="buscarFrecuenciaOperacion">
                                    <span class="input-group-btn">
                                        <a class="btn close cerrarModal"  ng-click="LimpiarBuscar(8)"><span aria-hidden="true">&times;</span></a>
                                    </span>
                                </div>
                            </div>
                            
                            <div class="col-xs-2">
                               <a class="btn  botonAgregar pull-right" ng-click="AbrirAgregarFrecuencia()"><span class="fa fa-plus"></span> </a>
                           </div>

                            <div class="col-xs-12" style="margin-top: 10px"></div>
                            <div class="panel  panelFiltro" style="border-radius: 0px;">
                                <div class="row " >
                                    <div class="col-xs-12">

                                        <table  class="table table-responsive">
                                            
                                            <tbody  style="cursor: pointer">
                                                
                                                <tr  ng-repeat="frecuencia in frecuencia | filter:buscarFrecuenciaOperacion | orderBy:'Nombre'">
                                                  <td style="margin-left:10px; color:black" class="botonSeleccionar" ng-click="CambiarFrecuencia(frecuencia)">{{frecuencia.Nombre}}</td>
                                                </tr>
                                            </tbody>
                                            
                                        </table>

                                    </div>
                                </div>
                            </div>
                         </div>
                    </div>
                    
                    <br class="hidden-sm hidden-md hidden-lg">
                    <!-- Lugar -->
                     <div class="col-sm-6 etiquetaDropdownList" id="lugarPanel">
                        <label>Lugar</label>
                        <a class="btn btn-block dropdownListModal" ng-click="MostrarLugar()">{{nuevaActividad.Lugar.Nombre}} <span class="caret"></span></a>
                        
                        <div ng-show="mostrarLugar" class="dropdown-menu modalAgregarDropdown">
                           <div class="col-xs-12" style="margin-top: 10px"></div>
                           
                            <div class="col-xs-10">
                                <div class="input-group">
                                    <input type="text"  placeholder="Buscar Lugar" class="entrada form-control" name="buscarLugarOperacion" ng-model="buscarLugarOperacion">
                                    <span class="input-group-btn">
                                        <a class="btn close cerrarModal"  ng-click="LimpiarBuscar(9)"><span aria-hidden="true">&times;</span></a>
                                    </span>
                                </div>
                               
                            </div>
                            
                            <div class="col-xs-2">
                               <a class="btn  botonAgregar pull-right" ng-click="AbrirAgregarLugar('Actividad')"><span class="fa fa-plus"></span> </a>
                           </div>

                            
                            <div class="col-xs-12" style="margin-top: 10px"></div>
                            <div class="panel  panelFiltro" style="border-radius: 0px;">
                                <div class="row " >
                                    <div class="col-xs-12">

                                        <table  class="table table-responsive">
                                            
                                            <tbody  style="cursor: pointer">
                                                
                                                <tr>
                                                    <td style="margin-left:10px; color:black" class="botonSeleccionar" ng-click="CambiarLugar('Ninguno', 'Actividad')"><b>Ninguno</b></td>
                                                </tr>
                                                
                                                <tr  ng-repeat="lugar in lugar | filter:buscarLugarOperacion | orderBy:'Nombre'">
                                                  <td style="margin-left:10px; color:black" class="botonSeleccionar" ng-click="CambiarLugar(lugar, 'Actividad')">{{lugar.Nombre}}</td>
                                                </tr>
                                            </tbody>
                                            
                                        </table>

                                    </div>
                                </div>
                            </div>
                         </div>
                    </div> 
                </div>
                <br>
                
                <div class="row">
                    <!-- Hora -->
                    <div class="col-sm-12 etiquetaDropdownList" >
                        <label class="">Hora</label><br>
                        <div class="row" >
                            <div class="col-xs-12" >
                                <input type="text"  id="horaDiario" class="form-control entrada" style=" cursor:pointer;  z-index: 5 !important;" onblur="angular.element(this).scope().CambiarHoraDiario(this)"/>
                            </div>
                        </div>
                    </div>

                </div>

                <div class="row" >
                    
                     <div class="col-sm-12">

                      <div ng-show="etiquetaSugerida.length > 0">
                        <div>
                           <b >Etiquetas Sugeridas</b>
                            <span class="btn-group pull-right">
                                 <a class="btn btnOptDiarioDetalles boton" ng-click="AgregarTodaEtiquetaSugerida()"> <span class="fa fa-check-circle-o"></span></a>
                                 <a class="btn btnOptDiarioDetalles boton" ng-click="etiquetaSugerida = []"> <span class="fa fa-times-circle-o"></span></a>
                             </span>
                        </div>
                        <br>

                         <span ng-repeat="etiqueta in etiquetaSugerida track by $index">
                             <div class="btn-group" role="group" style="margin-bottom:8px">
                              <a class="btn campoAgregado"  style="font-size:10pt" ng-click="AgregarEtiquetaSugerida(etiqueta, $index)">{{etiqueta}}</a>
                              <a class="btn campoAgregadoQuitar" style="font-size:10pt" ng-click="etiquetaSugerida.splice($index, 1)"><span class="fa fa-times-circle"></span></a>
                            </div>
                         </span>
                         <br> 
                     </div>

                     <div ng-show="temaSugerido.length > 0">
                         <div>                         
                             <b >Temas Sugeridos</b><br><br>   
                         </div> 
                         <span ng-repeat="tema in temaSugerido track by $index">
                             <div class="btn-group" role="group" style="margin-bottom:8px">
                              <a class="btn campoAgregado"  style="font-size:10pt" ng-click="AgregarTemaSugerido(tema, $index)">{{tema}}</a>
                              <a class="btn campoAgregadoQuitar" style="font-size:10pt" ng-click="temaSugerido.splice(index, 1)"><span class="fa fa-times-circle"></span></a>
                            </div>
                         </span>
                         <br>

                     </div>
                     <br>



                    </div>
                </div>
            
                <div ng-include=" 'html/Control/EtiquetaControl.html' " ng-init="IniciarModal('Actividad')" ng-controller="ControlEtiquetaController as lc"></div>
                
                <!-- Temas -->
                <!--<div class="row" >
                     <div class="col-xs-12">
                          
                          <!--lista de etiquetas Seleccionados --
                          <div ng-if="nuevaActividad.Etiqueta.length > 0" >
                            <b>Etiquetas</b><br>
                             <span ng-repeat="etiqueta in nuevaActividad.Etiqueta | orderBy:'Nombre'" ng-show="etiqueta.Visible">
                                 <div class="btn-group" role="group" style="margin-bottom:8px">


                                  <a class="btn campoAgregado" ng-class="{contornoAzul:(etiqueta.EtiquetaId != '-1')}" style="font-size:10pt"  data-toggle="dropdown">{{etiqueta.Nombre}}</a>

                                  <ul class="dropdown-menu dropdownOpt dropdown-menu-left" style="margin-top: 5px;">
                                        <!-- Editar --
                                        <li><a class=" dropdownOpcion2" ng-click="EditarRegistroEtiqueta(etiqueta)">
                                             <span class="fa fa-pencil"> </span> Editar
                                        </a></li>
                                        
                                        <!-- Equivalencias --
                                         <li><a class=" dropdownOpcion2" ng-click="EtiquetaEquivalente(etiqueta)">
                                             <span class="fa fa-clone"> </span> Equivalencias
                                        </a></li>
                                        
                                        <!-- Borrar --
                                        <li><a class=" dropdownOpcion2" ng-click="BorraEtiqueta(etiqueta)">
                                             <span class="fa fa-trash"> </span> Borrar
                                        </a></li>


                                    </ul>

                                  <a class="btn campoAgregadoQuitar" ng-class="{contornoAzul:(etiqueta.EtiquetaId != '-1')}" style="font-size:10pt" ng-click="QuitarEtiqueta(etiqueta)"><span class="fa fa-times-circle"></span></a>
                                </div>
                             </span>
                             <br><br>
                         </div>
    
                         <!--lista de etiquetas Seleccionados --
                        <div ng-if="nuevaActividad.Tema.length > 0">
                             <b>Temas</b><br>                            
                             <span ng-repeat="tema in nuevaActividad.Tema | orderBy:'Tema'">
                                 <div class="btn-group" role="group" style="margin-bottom:8px">
                                  <a class="btn campoAgregado" ng-click="EditarTema(tema)" ng-class="{contornoAzul:(tema.TemaActividadId != '-1')}" style="font-size:10pt">{{tema.Tema}}</a>
                                  <a class="btn campoAgregadoQuitar" ng-class="{contornoAzul:(tema.TemaActividadId != '-1')}" style="font-size:10pt" ng-click="QuitarTema(tema)"><span class="fa fa-times-circle"></span></a>
                                </div>
                             </span>  
                         </div>                     
                     </div>
                     
                     <!--<div class="col-sm-12" id="temaPanel">
                        <label class="etiquetaNormal">Temas</label><br>
                         <!--lista de temas Seleccionados --
                         <span ng-repeat="tema in nuevaActividad.Tema | orderBy:'Tema'">
                             <div class="btn-group" role="group" style="margin-bottom:8px">
                              <a class="btn campoAgregado" ng-click="EditarTema(tema)" ng-class="{contornoAzul:(tema.TemaActividadId != '-1')}" style="font-size:10pt">{{tema.Tema}}</a>
                              <a class="btn campoAgregadoQuitar" ng-class="{contornoAzul:(tema.TemaActividadId != '-1')}" style="font-size:10pt" ng-click="QuitarTema(tema)"><span class="fa fa-times-circle"></span></a>
                            </div>
                         </span>
                         <!-- Buscar Artista --
                         <div class="input-group">
                            <input type="text" required class="entrada form-control" name="tema" ng-model="buscarTema" placeholder="Tema de la actividad" ng-maxlength="300"  data-toggle="dropdown" id="nuevoTema" autocomplete="off"/>
                            <span class="input-group-btn">
                                <a class="btn close cerrarModal"  ng-click="LimpiarBuscar(3)" type="button"><span class="fa fa-times-circle"></span></a>
                            </span>
                        </div>
                         
                         <!-- lista de temas --
                         <div class="dropdown-menu modalAgregarDropdown" ng-show="buscarTema.length > 0">
                            
                            <table  class="table table-responsive">
                                <tbody  style="cursor: pointer">
                                    <tr   ng-repeat="tema in tema | orderBy:'Tema' | filter:BuscarTema" ng-show="tema.show">
                                      <td style="margin-left:10px; color:black" class="botonSeleccionar" ng-click="AgregarTema(tema)">{{tema.Tema}}</td>
                                    </tr>

                                </tbody>
                            </table>
                        </div>
                      
                    </div>--
                </div>-->
                
                
                <br><br>
                <!---- botones de operacion -->
                <div class="row">
                    <div class="col-xs-6">
                        <a class="btn botonFinModal btn-block" ng-click="CerrarActividad()">CANCELAR</a>
                    </div>

                    <div class="col-xs-6">
                        <a focus class="btn botonFinModal btn-block" ng-click="TerminarActividad(actividadForma.actividad.$invalid)">TERMINAR</a>
                    </div>
                </div>
            <br>
            </form> 
            
        </div>
    </div>
    
    <!----------- Agregar Concepto ------------>
    <div class="modal fade sombraDivModal" id="modalConcepto" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" data-keyboard="true" data-backdrop="static">
        <br>    <br>   <br>
        <div class="modal-dialog modal-sm modalPrincipal">
         <form name="concepto">
                <br>

                <div class="row">
                   <div class="col-xs-12">
                       <span style="font-size:14pt"> 
                           <b>"{{buscarEtiqueta}}"</b> se utilizará en las búsquedas como si fuera una sola palabra.<br>
                           ¿Deseas crear esta etiqueta?
                       </span>
                   </div>
                </div>

                <br>
                
                <!---- botones de operacion -->
                <div class="row">
                    <div class="col-xs-6">
                        <a class="btn botonFinModal btn-block" data-dismiss="modal" aria-label="Close" >Cancelar</a>
                    </div>

                    <div class="col-xs-6">
                        <a focus class="btn botonFinModal btn-block" onclick="angular.element(this).scope().TerminarDefinicionConcepto()">OK</a>
                    </div>
                </div>
                <br>
                 <div class="row">
                     <div class="col-xs-12 advertenciaModal">
                         <span class="fa fa-warning"></span> Este mensaje es temporal
                     </div>
                 </div>
            </form>

        </div>
    </div>   
    <!-- Cerrar -->
    <div class="modal fade sombraDivModal" id="cerrarActividad">
        <br>    <br>   <br>
        <div class="modal-dialog modal-sm modalPrincipal text-center">
           
            <div class="row">
                <div class="col-xs-12">
                    <span style="font-size:14pt">¿Estas seguro de salir sin guardar los cambios?</span>
                </div>
            </div>
            <br><br>
            <div class="row">
                <div class="col-xs-6">
                    <button class="btn botonFinModal" data-dismiss="modal" aria-label="Close">No</button>
                </div>
                <div class="col-xs-6">
                    <button class="btn botonFinModal" data-dismiss="modal" aria-label="Close" ng-click="ConfirmarCerrarActividad()">Si</button>
                </div>
            </div>
                        
        </div>
    </div>
    
    <!-- Borrar -->
    <div class="modal fade sombraDivModal" id="borrarActividad">
        <br>    <br>   <br>
        <div class="modal-dialog modalPrincipal text-center">
           
            <div class="row">
                <div class="col-xs-12">
                    <span style="font-size:14pt">{{mensajeBorrar}}</span>
                </div>
            </div>
            <br><br>
            <div class="row">
                <div class="col-xs-6">
                    <button class="btn botonFinModal" data-dismiss="modal" aria-label="Close">No</button>
                </div>
                <div class="col-xs-6">
                    <button class="btn botonFinModal" data-dismiss="modal" aria-label="Close" ng-click="ConfirmarBorrarActividad()">Si</button>
                </div>
            </div>
                        
        </div>
    </div>
    
    <!-- Filtro -->
    <div class="modal fade" id="modalFiltro" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" data-keyboard="true" data-backdrop="static">
        <br>    <br>   <br>
        <div class="modal-dialog modalPrincipal">            
            <div class="row">
                <div class="col-xs-12">
                    <span class="tituloModal">Filtrar</span>
                    
                    <button class="btn botonFiltroBarraLateral pull-right" data-dismiss="modal" aria-label="Close" ng-click="BuscarFiltroActividad()">
                        <span>OK</span>
                    </button>

                   <button class="btn botonFiltroBarraLateral pull-right" ng-disabled = "(filtro.tema.length + filtro.frecuencia.length + filtro.etiqueta.length) == 0" data-toggle="tooltip" data-placement="bottom" title="Limpiar filtro" ng-click="LimpiarFiltro()">
                        <span >Limpiar</span>
                    </button>
                </div>  
            </div>
            <br>
            
            <form name="filtroForma">
                
                <!-- Etiquetas -->
                <button class="btn btn-block panelOperacionBotonLateral">Etiqueta</button>

                <div  style="background: white">
                   <div class="col-xs-12" style="margin-top: 10px"></div>

                    <div class="col-xs-12">
                       <div class="input-group">
                            <input type="text"  placeholder="Buscar Etiqueta" class="entrada form-control" name="buscarEtiquetaFiltro" ng-model="buscarEtiquetaFiltro" id="bucarEtiquetaFiltro" autocomplete="off">
                            <span class="input-group-btn">
                                <a class="btn close cerrarModal"  ng-click="LimpiarBuscar(5)" type="button"><span aria-hidden="true">&times;</span></a>
                            </span>
                        </div>
                    </div>

                    <div class="col-xs-12" style="margin-top: 10px"></div>
                    <div class="panel  filtroModal" style="border-radius: 0px;">
                        <div class="row " >
                            <div class="col-xs-12">

                               <div ng-repeat="etiqueta in etiquetaF | orderBy:'Nombre'" ng-show="(BuscarEtiquetaFiltro(etiqueta) && buscarEtiquetaFiltro.length > 0) || etiqueta.Filtro ">

                                    <div class="checkbox" style="margin-top:5px !important">
                                        <label class="anchoTotal">
                                            <input  class="form-control" ng-model="etiqueta.Filtro" type="checkbox" ng-click="SetFiltroEtiqueta(etiqueta.EtiquetaId)">
                                            <span class="cr"> <i class="cr-icon fa fa-check"></i> </span> <span>{{etiqueta.Nombre}}</span>
                                        </label>
                                    </div>

                                </div>

                            </div>
                        </div>
                    </div>
                </div>

                <!------ Tema ------>
                <button class="btn btn-block panelOperacionBotonLateral">Tema</button>

                <div  style="background: white">
                   <div class="col-xs-12" style="margin-top: 10px"></div>

                    <div class="col-xs-12">
                       <div class="input-group">
                            <input type="text"  placeholder="Buscar Tema" class="entrada form-control" name="buscarTema" ng-model="buscarTemaFiltro" id="buscarTemaFiltro" autocomplete="off">
                            <span class="input-group-btn">
                                <a class="btn close cerrarModal"  ng-click="LimpiarBuscar(6)" type="button"><span aria-hidden="true">&times;</span></a>
                            </span>
                        </div>
                    </div>

                    <div class="col-xs-12" style="margin-top: 10px"></div>
                    <div class="panel  filtroModal" style="border-radius: 0px;">
                        <div class="row " >
                            <div class="col-xs-12">

                                <div ng-show="(buscarTemaFiltro.length == 0 || sinTemaFiltro)">
                                    <div class="checkbox" style="margin-top:5px !important;">
                                        <label class="anchoTotal">
                                            <input class="form-control" ng-model="sinTemaFiltro" type="checkbox"  ng-click="SetFiltroTema('0')">
                                            <span class="cr"> <i class="cr-icon fa fa-check"></i> </span>Sin Tema
                                        </label>
                                    </div>
                                </div>

                                <div ng-repeat="tema in temaF | orderBy:'Tema'" ng-show="(BuscarTemaFiltro(tema) && buscarTemaFiltro.length > 0) || tema.Filtro ">
                                    <div class="checkbox" style="margin-top:5px !important;">
                                        <label class="anchoTotal">
                                            <input class="form-control" ng-model="tema.Filtro" type="checkbox"  ng-click="SetFiltroTema(tema.TemaActividadId)">
                                            <span class="cr"> <i class="cr-icon fa fa-check"></i> </span>{{tema.Tema}}
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Frecuencia -->
                <button class="btn btn-block panelOperacionBotonLateral">Frecuencia</button>

                <div style="background: white">
                   <div class="col-xs-12" style="margin-top: 10px"></div>

                    <div class="col-xs-12">
                       <div class="input-group">
                            <input type="text"  placeholder="Buscar Frecuencia" class="entrada form-control" name="buscarFuente" ng-model="buscarFrecuenciaFiltro" id="buscarFrecuenciaFiltro" autocomplete="off">
                            <span class="input-group-btn">
                                <a class="btn close cerrarModal"  ng-click="LimpiarBuscar(7)" type="button"><span aria-hidden="true">&times;</span></a>
                            </span>
                        </div>
                    </div>

                    <div class="col-xs-12" style="margin-top: 10px"></div>
                    <div class="panel  filtroModal" style="border-radius: 0px;">
                        <div class="row " >
                            <div class="col-xs-12">

                               <div ng-repeat="frecuencia in frecuenciaF | orderBy:'Nombre'" ng-show="(BuscarFrecuenciaFiltro(frecuencia) && buscarFrecuenciaFiltro.length > 0) || frecuencia.Filtro ">

                                    <div class="checkbox" style="margin-top:5px !important">
                                        <label class="anchoTotal">
                                            <input  ng-model="frecuencia.Filtro" type="checkbox" ng-click="SetFiltroFrecuencia(frecuencia.FrecuenciaId)">
                                            <span class="cr"> <i class="cr-icon fa fa-check"></i> </span>{{frecuencia.Nombre}}
                                        </label>
                                    </div>

                                </div>

                            </div>
                        </div>
                    </div>
                </div>

               
            </form> 
            
        </div>
    </div>
    
    <!-- RegistrarEvento Pregunta -->
    <div class="modal fade sombraDivModal" id="registrarEventoPregunta">
        <br>    <br>   <br>
        <div class="modal-dialog modalPrincipal text-center">
           
            <div class="row">
                <div class="col-xs-12">
                    <span style="font-size:14pt">¿Desas registrar un evento de {{detalle.Nombre}}?</span>
                </div>
            </div>
            <br><br>
            <div class="row">
                <div class="col-xs-6">
                    <button class="btn botonFinModal" data-dismiss="modal" aria-label="Close">No</button>
                </div>
                <div class="col-xs-6">
                    <button class="btn botonFinModal" data-dismiss="modal" aria-label="Close" ng-click="RegistrarEvento('Agregar', detalle, null)">Si</button>
                </div>
            </div>
                        
        </div>
    </div>
    
    <!-- Alertas -->
    <div class="alertaMensaje" id="alertaEditarExitosoActividad">
        <div class="alert alertaExtito">
            <!--<button type="button" class="close" data-dismiss="alert">x</button>-->
            <span class="fa fa-check-circle-o fa-2x textIconoExito" style="font-size:16pt"></span>
            <strong style="display: inline-block;">{{mensaje}}</strong>
        </div>
    </div>
    
    <!--------------------------------------------------------- Evento Actividad ---------------------------------------------------->
    <!---------- Detalles Evento Actividad---------------->
    <div class="modal fade" id="DetalleEvento">
        <br>    <br>   <br>
        <div class="modal-dialog modal-lg modalPrincipal">
           
            <div class="row">
                <div class="col-xs-12">
                    <button class="btn close cerrarModal" data-dismiss="modal" aria-label="Close" ><span aria-hidden="true">&times;</span></button>
                    
                    <!-- Fecha -->
                    <span class="tituloModal">{{detalleEvento.FechaFormato}}</span><br>
                    <span></span>
                    
                    <!-- Hora -->
                    <span ng-if="detalleEvento.Hora.length > 0">
                         <span>{{detalleEvento.Hora}}</span><br>
                    </span><br>
                    
                    <!-- Separador -->
                    <div class="row">
                        <div class="col-xs-12"> <div class="divisorAzul1"></div> </div>
                    </div>
                    
                    <!-- Actividad -->
                    <span >
                        <b>Actividad: </b> <span>{{detalleEvento.Actividad}}</span><br>
                    </span>
                    
                    <!-- Ciudad -->
                    <span ng-if="detalleEvento.Ciudad.CiudadId.length > 0">
                        <span class="fa fa-map-marker"></span> <span>{{detalleEvento.Ciudad.Ciudad}}, {{detalleEvento.Ciudad.Estado}}. {{detalleEvento.Ciudad.Pais}}.</span><br>
                    </span>
                    
                    <!-- Lugar -->
                    <span ng-if="detalleEvento.Lugar.LugarId.length > 0">
                        <b>Lugar: </b> <span>{{detalleEvento.Lugar.Nombre}}.</span><br>
                    </span>
                    
                    <!-- Cantidad -->
                    <span ng-if="detalleEvento.Cantidad.length > 0">
                        <b>Cantidad: </b> <span>{{detalleEvento.Cantidad}} {{detalleEvento.Unidad.Unidad}}</span><br>
                    </span>
                    
                    <!-- Costo -->
                    <span ng-if="detalleEvento.Costo.length > 0">
                        <b>Costo: </b> <span>{{detalleEvento.Costo}} {{detalleEvento.Divisa.Divisa}}</span><br>
                    </span>
                    
                    <!-- Persona -->
                    <span ng-if="detalleEvento.Persona.length > 0">
                        <b>Personas: </b> 
                        <span ng-repeat="persona in detalleEvento.Persona | orderBy:'Nombre'">
                            <span ng-if="!$last">{{persona.Nombre}}, </span>
                            <span ng-if="$last">{{persona.Nombre}}.</span>
                        </span>
                    </span>
                    
                    <!-- Etiqueta -->
                    <span ng-if="detalleEvento.EtiquetaVisible.length > 0">
                        <b>Etiquetas: </b> 
                        <span ng-repeat="etiqueta in detalleEvento.EtiquetaVisible | orderBy:'Nombre'">
                            <span ng-if="!$last">{{etiqueta.Nombre}}, </span>
                            <span ng-if="$last">{{etiqueta.Nombre}}.</span>
                        </span><br>
                    </span>
                    
                    <!-- Temas -->
                    <span ng-if="detalleEvento.Tema.length > 0">
                        <b>Temas: </b> 
                        <span ng-repeat="tema in detalleEvento.Tema | orderBy:'Tema'">
                            <span ng-if="!$last">{{tema.Tema}}, </span>
                            <span ng-if="$last">{{tema.Tema}}.</span>
                        </span>
                    </span><br>
                    

                </div>
            </div>
            <!-- Separador -->
            <div class="row" ng-if="detalleEvento.Notas.length > 0">
                <div class="col-xs-12"> <div class="divisorAzul1"></div> </div>
            </div>
            
            <br>
            <!-- Contenido -->
            <div class="row">
                <div class="col-xs-12 detalleInformacion" >
                    <p ng-bind-html="detalleEvento.NotasHTML"></p>
                </div>
            </div>
            
            
        </div>
    </div>
    
    <!-- Agregar - Editar -->
    <div class="modal fade" id="modalEvento" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" data-keyboard="true" data-backdrop="static">
        <br>    <br>   <br>
        <div class="modal-dialog modalPrincipal">
           
            <div class="row">
                <div class="col-xs-12">
                    <!-- Alertas -->
                    <div class="alertaMensaje" id="alertaExitosoEvento">
                        <div class="alert alertaExtito">
                            <!--<button type="button" class="close" data-dismiss="alert">x</button>-->
                            <span class="fa fa-check-circle-o fa-2x textIconoExito" style="font-size:16pt"></span>
                            <strong style="display: inline-block;">{{mensaje}}</strong>
                        </div>
                    </div>
                </div>
            </div>
            
            <br>
            <div class="row">
                <div class="col-xs-8 col-sm-10">
                    <!--<button class="btn close cerrarModal" ng-click="CerrarCancion()"><span aria-hidden="true">&times;</span></button>-->
                    <span ng-if="operacion == 'Agregar'" class="tituloModal">Registrar Evento</span>
                    <span ng-if="operacion == 'Editar'" class="tituloModal">Editar Evento </span>
                    <br><span style="font-size:12pt">Actividad: {{nuevoEvento.Actividad }}</span>
                </div>
                
                <div class="col-xs-4 col-sm-2">
                    <div class="btn-group-vertical pull-right" role="group" >
                        <a class="btn botonFinModal"  ng-click="CerrarRegistrarEvento()"><span class="fa fa-times"></span></a>
                        <a focus class="btn botonFinModal" id="terminarEvento" ng-click="TerminarEventoActividad()"><span class="fa fa-check"></span></a>
                    </div>
                </div>
                
                
            </div>
            <br>
            
            <form name="eventoForma">
               
               <div class="row">
                     <div class="col-xs-12">
                         
                         <div class="text-center">
                             <a class="btn btnTabModal" ng-click="tabModal = 'Evento'" ng-class="{active: tabModal == 'Evento'}"><div class="fa fa-calendar-o tabModal"></div><br>Evento</a>
                             <a class="btn btnTabModal" ng-click="tabModal = 'Imagenes'" ng-class="{active: tabModal == 'Imagenes'}"><div class="fa fa-image  tabModal"></div><br>Imágenes</a>
                         </div>
                                          
                     </div>
                 </div>
                 <br>
                
                <div ng-show="tabModal == 'Evento'">
                    <!-- Fecha -->
                    <div class="row">

                        <div class="col-xs-12 col-sm-12 etiquetaDropdownList" >
                            <label class="">Fecha</label><br>
                            <div class="row" >
                               <div class="col-xs-12" >
                                <span class="botonFecha">{{nuevoEvento.FechaFormato}}</span>
                                </div>
                            </div>

                            <div class="row" >
                                <div class="col-xs-12" >
                                    <input type="text"  id="fechaEvento" class="form-control entrada" style=" cursor:pointer; color:transparent; margin-top:-25px; z-index: 5 !important;" onblur="angular.element(this).scope().CambiarFecha(this)"/>
                                </div>
                            </div>
                        </div>

                    </div>
                    <br>
                    <!-- Hora -->
                    <div class="row">

                        <div class="col-xs-12 col-sm-6 etiquetaDropdownList" >
                            <label class="">Hora</label><br>

                            <div class="row" >
                                <div class="col-xs-12" >
                                    <input type="text"  id="horaEvento" class="form-control entrada" style=" cursor:pointer;  z-index: 5 !important;" onblur="angular.element(this).scope().CambiarHoraEvento(this)"/>
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-xs-12 col-sm-6" >
                        
                            <a class="btn btn-block btnEstatusEvento" style="margin-top: 5px" ng-class="{disabled : (nuevoEvento.Fecha > hoy), Hecho : nuevoEvento.Hecho == '1'}" ng-click="nuevoEvento.Hecho == '1' ? nuevoEvento.Hecho = '0' : nuevoEvento.Hecho = '1'"> 
                                <span class="fa {{nuevoEvento.Hecho == '1' ? 'fa-check-circle-o' : 'fa-circle-o'}}" style="font-size: 14pt"></span>
                                <spna>{{nuevoEvento.Hecho == '1' ? 'Hecho' : 'No Hecho'}}</spna>
                            </a>
                        
                        </div>
                    </div>
                    <br>

                    <!-- Notas -->
                    <div class="row">
                        <div class="col-sm-12">
                             <div class="">
                                <label class="etiquetaNormal">Notas</label>
                                <textarea required type="text"  class="form-control contenidoArea" style="font-size:12pt" name="nota" ng-model="nuevoEvento.Notas" maxlength="20000"></textarea>
                            </div>
                        </div>
                    </div>
                    <br>

                     <div class="row">
                        <div class="col-sm-12">
                            <div class="divisorGris2"></div>
                        </div>
                    </div>

                     <br><br>


                    <!-- lugar -->
                    <div class="row">

                        <!-- Lugar -->
                         <div class="col-sm-6 etiquetaDropdownList" id="lugarEventoPanel">
                            <label>Lugar</label>
                            <a class="btn btn-block dropdownListModal" ng-click="MostrarLugar()">{{nuevoEvento.Lugar.Nombre}} <span class="caret"></span></a>

                            <div ng-show="mostrarLugar" class="dropdown-menu modalAgregarDropdown">
                               <div class="col-xs-12" style="margin-top: 10px"></div>

                                <div class="col-xs-10">
                                    <div class="input-group">
                                        <input type="text"  placeholder="Buscar Lugar" class="entrada form-control" name="buscarLugarOperacion" ng-model="buscarLugarOperacion">
                                        <span class="input-group-btn">
                                            <a class="btn close cerrarModal"  ng-click="LimpiarBuscar(9)"><span aria-hidden="true">&times;</span></a>
                                        </span>
                                    </div>

                                </div>

                                <div class="col-xs-2">
                                   <a class="btn  botonAgregar pull-right" ng-click="AbrirAgregarLugar('Evento')"><span class="fa fa-plus"></span> </a>
                               </div>


                                <div class="col-xs-12" style="margin-top: 10px"></div>
                                <div class="panel  panelFiltro" style="border-radius: 0px;">
                                    <div class="row " >
                                        <div class="col-xs-12">

                                            <table  class="table table-responsive">

                                                <tbody  style="cursor: pointer">

                                                    <tr>
                                                        <td style="margin-left:10px; color:black" class="botonSeleccionar" ng-click="CambiarLugar('Ninguno', 'Evento')"><b>Ninguno</b></td>
                                                    </tr>

                                                    <tr  ng-repeat="lugar in lugar | filter:buscarLugarOperacion | orderBy:'Nombre'">
                                                      <td style="margin-left:10px; color:black" class="botonSeleccionar" ng-click="CambiarLugar(lugar, 'Evento')">{{lugar.Nombre}}</td>
                                                    </tr>
                                                </tbody>

                                            </table>

                                        </div>
                                    </div>
                                </div>
                             </div>
                        </div> 

                        <br class="hidden-sm hidden-md hidden-lg">

                        <!-- Ciudad-->
                         <div class="col-sm-6 etiquetaDropdownList">

                             <label>Ciudad</label>
                            <div class="input-group">
                                <input type="text"  class="form-control entrada" ng-model="buscarCiudad" uib-typeahead="c as (c.Ciudad + ' (' + c.AbreviacionPais + ')') for c in FiltrarBuscarCiudad($viewValue) | limitTo:5" typeahead-on-select="CambiarCiudad()" typeahead-select-on-blur="false" typeahead-focus-first="false" typeahead-no-results="noResultados"> 
                                <span class="input-group-addon entrada" ng-click="QuitaCiudad()" style="cursor: pointer"> <span class="fa fa-times-circle"></span> </span> 
                                <span class="input-group-addon entrada" ng-click="AbrirAgregarCiudad()" style="cursor: pointer"> <span class="fa fa-plus"></span> </span> 
                            </div>

                            <div ng-if="noResultados">
                                Sin Resultado
                            </div>

                        </div>
                    </div>


                   
                    <br>
                    <div class="row">
                        <div class="col-sm-12">
                            <div class="divisorGris2"></div>
                        </div>
                    </div>
                     <br>
                     <!-- Cantidad -->
                     <div class="row">
                        <div class="col-xs-12">
                            <div class="input-group">
                                <div class="entrada2">
                                    <input type="text" required class="entrada form-control text-right" name="cantidad" ng-model="nuevoEvento.Cantidad" />
                                    <label style="z-index:10">Cantidad</label>
                                </div>
                                <span class="input-group-btn">
                                    <div class="dropdown">
                                       <a type="button" class="btn botonInputDropDown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                            <span ng-if="nuevoEvento.Unidad.Unidad.length > 0">{{nuevoEvento.Unidad.Unidad}} </span>
                                            <span ng-if="nuevoEvento.Unidad.Unidad.length == 0">Unidades </span>
                                            <span class="fa fa-chevron-down"></span>
                                        </a>

                                        <ul class="dropdown-menu dropdown-menu-right elemetosDropdownListModal">

                                           <li> 
                                               <a href="" class="dropdownOpcionModal text-center" ng-click="AbrirAgregarUnidad()"> 
                                                <span>Agregar</span>
                                                </a>
                                            </li>

                                            <div role="separator" class="dropdown-divider"></div>

                                            <li ng-repeat="unidad in unidad  | orderBy:'Unidad'">
                                                <a  href="" class="dropdownOpcionModal"  ng-click="CambiarUnidad(unidad)">
                                                    <span>{{unidad.Unidad}}</span>
                                                </a>
                                            </li>
                                        </ul>
                                    </div>
                                </span>
                            </div>
                        </div>
                     </div>

                     <br><br>
                     <!-- Costo -->
                     <div class="row">
                        <div class="col-xs-12">
                            <div class="input-group">
                                <div class="entrada2">
                                    <input type="text" required class="entrada form-control text-right" name="costo" ng-model="nuevoEvento.Costo" />
                                    <label style="z-index:10">Costo</label>
                                </div>
                                <span class="input-group-btn">
                                    <div class="dropdown">
                                       <a type="button" class="btn botonInputDropDown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                            <span ng-if="nuevoEvento.Divisa.Divisa.length > 0">{{nuevoEvento.Divisa.Divisa}} </span>
                                            <span ng-if="nuevoEvento.Divisa.Divisa.length == 0">Divisa </span>
                                            <span class="fa fa-chevron-down"></span>
                                        </a>

                                        <ul class="dropdown-menu dropdown-menu-right elemetosDropdownListModal">

                                           <li> 
                                               <a href="" class="dropdownOpcionModal text-center" ng-click="AbrirAgregarDivisa()"> 
                                                <span>Agregar</span>
                                                </a>
                                            </li>

                                            <div role="separator" class="dropdown-divider"></div>

                                            <li ng-repeat="divisa in divisa  | orderBy:'Unidad'">
                                                <a  href="" class="dropdownOpcionModal"  ng-click="CambiarDivisa(divisa)">
                                                    <span>{{divisa.Divisa}}</span>
                                                </a>
                                            </li>
                                        </ul>
                                    </div>
                                </span>
                            </div>
                        </div>
                     </div>
                     <br>
                    <div class="row">
                        <div class="col-sm-12">
                            <div class="divisorGris2"></div>
                        </div>
                    </div>
                     <br>

                    <div ng-include=" 'html/Control/EtiquetaControl.html' " ng-init="IniciarModal('Evento')" ng-controller="ControlEtiquetaController as ac"></div>

                </div>
                   
                <div ng-show="tabModal == 'Imagenes'">
                    <!-- Imagenes -->
                    <div class="row" >

                        <div class="col-xs-12">
                            <a ng-click="AbrirFototeca()" class="pull-right btn operacionEvento"> 
                                <span class="fa fa-picture-o"></span> Mis Imágenes
                            </a>
                        </div>
                    </div>
                    
                    <div class="row">

                        <div class="col-sm-12">

                           <div  method="post" enctype="multipart/form-data">

                                <div class="form-group files">
                                    <input id="cargarImagen" type="file" class="form-control" multiple accept="image/*" name="imagen" > <!-- onchange="angular.element(this).scope().CargarArchivo(this)" -->
                                </div>
                            </div>

                        </div>
                    </div>
                
                    <br>
                

                   <div class="row" >
                       <div class="col-xs-12">
                           <table  class="table table-responsive">

                                <tbody  style="cursor: pointer">

                                    <tr   ng-repeat="img in nuevoEvento.ImagenSrc" ng-if="nuevoEvento.ImagenSrc.length > 0">
                                      
                                      <td class="text-center">
                                          <a class="btn operacionEvento infoCenterCell" style="font-size: 13pt;" ng-click="EtiquetarImagen(img, 'prev')">
                                            <span >
                                             <span class="fa fa-tag"> </span> <span> ({{ContarEtiquetasVisibles(img.Etiqueta)}}) </span>
                                             <span class="fa fa-comment-o"> </span> <span> ({{img.Tema.length}}) </span>
                                            </span>
                                         </a>
                                      </td>
                                     
                                      <td style="width: 100px; max-width: 100px">
                                          <div class="imgContainer" style="height:50px">
                                              <a style="overflow: hidden !important; max-height: 50px">
                                                <img class="img-responsive" style="width: 100%" src=" {{img.Src}}" ng-click="VerImganes(true, true, false, nuevoEvento.Imagen, nuevoEvento.ImagenSrc, $index, 0)"/>
                                              </a>
                                          </div>
                                        </td>

                                      <td class="hidden-xs"> <span class="infoCenterCell">{{img.name}}</span> </td>
                                        <td class="hidden-xs">  <span class="infoCenterCell">{{(img.size/1000000).toFixed(2)}} MB</span> </td>
                                      <td class="text-center">
                                          <a class="btn btnQuitarImg" ng-click="nuevoEvento.ImagenSrc.splice($index,1)">
                                             <span class="fa fa-times-circle"></span>
                                         </a>
                                      </td>
                                      
                                                   
                                    </tr>

                                    <tr ng-repeat="img in nuevoEvento.Imagen" style="background: #d2e4fb;" ng-if="img.Eliminada != true">
                                     <td class="text-center">
                                          <a class="btn operacionEvento infoCenterCell" ng-click="EtiquetarImagen(img, 'img')" style="font-size: 13pt;">
                                            <span >
                                             <span class="fa fa-tag"> </span> <span> ({{ContarEtiquetasVisibles(img.Etiqueta)}}) </span>
                                             <span class="fa fa-comment-o"> </span> <span> ({{img.Tema.length}}) </span>
                                            </span>
                                         </a>
                                      </td>
                                      
                                      <td style="width: 100px">
                                        <div class="imgContainer" style="height:50px">
                                             <a style="overflow: hidden !important; max-height: 50px">
                                                <img class="img-responsive" style="width: 100%" src="php/API/ArchivosUsuario/{{UsuarioId}}/IMG/{{img.Nombre}}" ng-click="VerImganes(true, true, false, nuevoEvento.Imagen, nuevoEvento.ImagenSrc, $index, 1)"/>
                                             </a>
                                        </div>
                                      </td>
                                      
                                        <td class="hidden-xs">  <span class="infoCenterCell">{{img.Nombre}}</span> </td>
                                        <td class="hidden-xs">  <span class="infoCenterCell">{{(img.Size/1000000).toFixed(2)}} MB </span></td>
                                      <td class="text-center">  
                                          <a class="btn btnQuitarImg" ng-click="img.Eliminada = true">
                                             <span class="fa fa-times-circle"></span>
                                         </a>
                                      </td>
                                    </tr>

                                </tbody>

                            </table>
                       </div>
                    </div>
                                             
                     <div class="row"  ng-if="(fotoEliminada = (nuevoEvento.Imagen | filter:{Eliminada:'true'}  ).length) > 0">
                       <div class="col-xs-12">

                           <a class="btn botonDetallesActividad" ng-click="showEliminada = !showEliminada">
                               <span>Fotos Eliminadas ({{fotoEliminada}})</span>
                               <span ng-show="showEliminada" class="fa fa-angle-double-up"></span>
                               <span ng-show="!showEliminada" class="fa fa-angle-double-right"></span>
                           </a>
                           <table  class="table table-responsive" ng-show="showEliminada">

                                <tbody  style="cursor: pointer">

                                    <tr ng-repeat="img in nuevoEvento.Imagen"  ng-if="img.Eliminada == true">
                                      <td style="width: 100px">
                                          <div class="imgContainer" style="height:50px">
                                              <a style="overflow: hidden !important; max-height: 50px">
                                                  <img class="img-responsive" style="width: 100%" src="php/API/ArchivosUsuario/{{UsuarioId}}/IMG/{{img.Nombre}}" ng-click="VerImganes(false, false, true, nuevoEvento.Imagen, null, $index)"/>
                                              </a>
                                          </div>
                                      </td>
                                    
                                      <td class="hidden-xs " > <span class="infoCenterCell">{{img.Nombre}}</span> </td>
                                        <td class="hidden-xs"> <span class="infoCenterCell"> {{(img.Size/1000000).toFixed(2)}} MB </span></td>
                                      <td class="text-center">  
                                          <a class="btn btnAgregarImg" ng-click="img.Eliminada = false">
                                             <span class="fa fa-check-circle"></span>
                                         </a>
                                      </td>
                                    </tr>

                                </tbody>

                            </table>
                       </div>
                    </div>
                </div>
                   
                <br><br>
                <!---- botones de operación -->
                <div class="row">
                    <div class="col-xs-6">
                        <a class="btn botonFinModal btn-block" ng-click="CerrarRegistrarEvento()">CANCELAR</a>
                    </div>

                    <div class="col-xs-6">
                        <a focus class="btn botonFinModal btn-block" ng-click="TerminarEventoActividad()">TERMINAR</a>
                    </div>
                </div>
                <br>
                
            </form> 
            
        </div>
    </div>
    
    <!-- Borrar -->
    <div class="modal fade sombraDivModal" id="borrarEventoActividad">
        <br>    <br>   <br>
        <div class="modal-dialog modalPrincipal text-center">
           
            <div class="row">
                <div class="col-xs-12">
                    <span style="font-size:14pt">{{mensajeBorrar}}</span>
                </div>
            </div>
            <br><br>
            <div class="row">
                <div class="col-xs-6">
                    <button class="btn botonFinModal" data-dismiss="modal" aria-label="Close">No</button>
                </div>
                <div class="col-xs-6">
                    <button class="btn botonFinModal" data-dismiss="modal" aria-label="Close" ng-click="ConfirmarBorrarEventoActividad()">Si</button>
                </div>
            </div>
                        
        </div>
    </div>
    
    <!-- Opciones de evento -->
    <div class="modal fade sombraDivModal" id="OperacionEvento">
        <br>    <br>   <br>
        <div class="modal-dialog modalPrincipal">
          
           <div class="row">
                <div class="col-xs-12">
                    <button class="btn close cerrarModal" data-dismiss="modal" aria-label="Close" ng-click="CerrarPresupuestoModal()"><span aria-hidden="true">&times;</span></button>
                    <span style="font-size:14pt">Selecciona una opción</span>
                </div>
            </div>
            <br><br>
           
            <div class="row">
               <!-- hecho -->
                <div class="col-xs-12 col-sm-4">
                    <button class="btn btn-block  botonFinModal" style="margin-bottom: 10px" data-dismiss="modal" aria-label="Close" ng-click="HechoEvento()" ng-disabled="eventoOpt.Fecha > hoy">
                        <spna class="fa fa-check-circle-o fa-2x"></spna><br> Hecho
                    </button>
                </div>
                
                <!-- Reprogramar -->
                <div class="col-xs-12 col-sm-4">
                    <button class="btn btn-block  botonFinModal" style="margin-bottom: 10px" ng-click="RegistrarEvento('Editar', detalle, eventoOpt)" data-dismiss="modal" aria-label="Close">
                        <spna class="fa fa-clock-o fa-2x"></spna><br> Reprogramar
                    </button>
                </div>
                
                <!-- Borrar -->
                <div class="col-xs-12 col-sm-4">
                    <button class="btn btn-block  botonFinModal" style="margin-bottom: 10px" ng-click="BorrarEventoActividad(eventoOpt)" data-dismiss="modal" aria-label="Close">
                        <spna class="fa fa-trash fa-2x"></spna><br> Eliminar
                    </button>
                </div>
                
            </div>
                        
        </div>
    </div>
    
     <!---------- VerImagen ---------------->
    <div class="modal fade sombraDivModal" id="verImagen" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <br>    <br>   <br>
        <div class="modal-dialog modal-md modalPrincipal">
          
          <div class="row">
                <div class="col-xs-12">
                    <a class="pull-right" data-dismiss="modal" aria-label="Close"> <span class="fa fa-times changeImage">    </span></a>
                </div>
            </div>
            <br>

            <div class="row">
                <div class="col-xs-12">
                    <div id="myCarousel2" class="carousel  slide">
  
                      <!-- Items -->
                      <div class="carousel-inner">
                        <div class="item" ng-class="{active: $index == iImg}" ng-repeat="img in detalleImagen">
                            <img   ng-if="iImg <= iLmt" class="img-responsive center-block" src="php/API/ArchivosUsuario/{{UsuarioId}}/IMG/{{img.Nombre}}"/>
                            <img   ng-if="iImg > iLmt" class="img-responsive center-block" src="{{img.Src}}"/>
                        </div>
                      </div>
                      <!-- Navigation -->
                       <a class="left carousel-control"  ng-click="changeImageViewed(-1);" ng-if="detalleImagen.length > 1">
                            <span class="glyphicon glyphicon-chevron-left"></span>
                        </a>
                        <a class="right carousel-control"  ng-click="changeImageViewed(1);" ng-if="detalleImagen.length > 1">
                            <span class="glyphicon glyphicon-chevron-right"></span>
                        </a>
                    </div>
                </div>
            </div>

        </div>
    </div>
    
    <!---------- fototeca ---------------->
    <div class="modal fade sombraDivModal" id="fototeca" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" data-keyboard="true" data-backdrop="static">
        <br>    <br>   <br>
        <div class="modal-dialog modal-lg modalPrincipal">
         
            <div class="row">
                
                <div class="col-xs-12">
                    <div class="btn-group-vertical pull-right" role="group" >
                        <a class="btn botonFinModal"  data-dismiss="modal" aria-label="Close"><span class="fa fa-times"></span></a>
                        <a focus class="btn botonFinModal" ng-click="AgregarImagenes()" ><span class="fa fa-check"></span></a>
                    </div>
                </div>
            </div>
            <br>
          
            <div class="row">
                 <div ng-repeat="img in fototeca">
                    <!-- Imagenes -->
                    <div style="padding-left: 12px;  padding-right: 12px">
                         <div class="col-xs-4 col-sm-3 col-lg-2" style="padding-left: 3px;  padding-right: 3px">
                           <div class="imgContainer" >
                                <div class="crop center-block">

                                    <a class="btn checkImage btn-block" ng-if="img.Seleccionada" ng-click="AgregarQuitarImagenFototeca(img)">
                                        <span class="fa fa-check-circle" ></span>
                                    </a>
                                     <img class="" style=" width:100%;" src="php/API/ArchivosUsuario/{{UsuarioId}}/IMG/{{img.Nombre}}" ng-click="AgregarQuitarImagenFototeca(img)"/>
                                 </div>
                            </div>
                            <div style="height: 15px"></div>
                         </div>
                     </div>
                </div>     
            </div>            
            <br>
            <!---- botones de operacion -->
            <div class="row">
                <div class="col-xs-6">
                    <a class="btn botonFinModal btn-block" data-dismiss="modal" aria-label="Close">CANCELAR</a>
                </div>

                <div class="col-xs-6">
                    <a focus class="btn botonFinModal btn-block" ng-click="AgregarImagenes()" >TERMINAR</a>
                </div>
            </div>

        </div>
    </div>
    
    <!-- Hecho Evento -->
    <div class="modal fade sombraDivModal" id="CancelarEventoHecho">
        <br>    <br>   <br>
        <div class="modal-dialog modalPrincipal text-center">
          
            <div class="row">
                <div class="col-xs-12">
                    <button class="btn close cerrarModal" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                </div>
            </div>
           
            <div class="row">
                <div class="col-xs-12">
                    <span style="font-size:14pt">{{mensajeAdvertencia}}</span>
                </div>
            </div>
            <br><br>
            <div class="row">
                <div class="col-xs-6">
                    <button class="btn botonFinModal" data-dismiss="modal" aria-label="Close">No</button>
                </div>
                <div class="col-xs-6">
                    <button class="btn botonFinModal" data-dismiss="modal" aria-label="Close" ng-click="HechoEvento()">Si</button>
                </div>
            </div>
                        
        </div>
    </div>
    
    <!-- Mensaje -->
    <div ng-include=" 'html/Control/MensajeModal.html' "></div>
    
</div>

<!--------------- otros html -------------------->
<div ng-if="CargarExterior" ng-include=" 'html/Actividades/Administrar/Frecuencia/AgregarFrecuencia.html' "> </div>
<div ng-if="CargarExterior" ng-include=" 'html/Actividades/Administrar/Lugar/AgregarLugar.html' "> </div>
<div ng-if="CargarExterior" ng-include=" 'html/Actividades/Administrar/Ciudad/AgregarCiudad.html' "> </div>
<div ng-if="CargarExterior" ng-include=" 'html/Actividades/Administrar/Unidades/AgregarUnidades.html' "> </div>
<div ng-if="CargarExterior" ng-include=" 'html/Actividades/Administrar/Unidades/AgregarDivisas.html' "> </div>

<div ng-include=" 'html/Imagen/EtiquetaImagen.html' "></div>
<div ng-include=" 'html/Sabiduria/Administrar/Etiqueta/AgregarEtiqueta.html' "></div>
<div ng-include=" 'html/Sabiduria/Administrar/Etiqueta/EtiquetaEquivalente.html' "></div>


   
    